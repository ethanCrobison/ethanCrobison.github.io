<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Coffee</title>
	<link rel="stylesheet" type="text/css" href="coffee.css">
</head>
<body>
	<div class="words">
		<div id="content"></div>
	</div>
</body>
<footer>
	<script type="text/javascript">
		$ = x => { return document.getElementById(x); };
		var content = $("content");
		init();

		function init() {
			loadJSON(
				"coffee.json",
				x => { 
					var coffee = initJSON(x);
					content.innerHTML = makeWord(coffee["root"])
				});
		}

		function loadJSON(filename, callback) {
			var xobj = new XMLHttpRequest();
			xobj.overrideMimeType("application/json");
			xobj.open("GET", filename, true);
			xobj.onreadystatechange = () => {
				if (xobj.readyState == 4 && xobj.status == "200") { callback(xobj.responseText) }
			};

			xobj.send(null);
		}

		function initJSON(string) { return JSON.parse(string); }
		
		function makeWord(contents) {
			return "<span class=\"word\">"+contents+"</span>";
		}
	</script>
</footer>
</html>